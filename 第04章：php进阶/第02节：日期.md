# 第02节:日期
上一节我们学习了多维数组的概述及方法，本节我们来讲解在php当中对日期的描述与应用

### 一、学习目标
日期的简单概述和字符列举以及格式规范，如何通过Date()这个函数来进行预期日期与时间的打印

### 二、PHP 日期和时间
#### 1.PHP Date() 函数
PHP Date() 函数把时间戳解析成更为易读的日期和时间

语法:

``` php
date(format,timestamp)
```

|参数|描述|
|---|---|
|format|必需，规定时间戳的格式|
|timestamp|可选，规定时间戳，默认是当前时间和日期|

提示：时间戳是一种字符序列，它表示具体事件发生的日期和时间

#### 2.获得简单的日期
date() 函数的格式参数是必需的，它们规定如何格式化日期或时间。

下面列出了一些常用于日期的字符：

* 1、d - 表示月里的某天（01-31）
* 2、m - 表示月（01-12）
* 3、Y - 表示年（四位数）

其他字符，比如 "/", "." 或 "-" 也可被插入字符中，以增加其他格式。

下面的例子用三种不同方法展示今天的日期：

实例代码如下:

``` php
<?php
echo "今天是 " . date("Y/m/d") . "<br>";
echo "今天是 " . date("Y.m.d") . "<br>";
echo "今天是 " . date("Y-m-d") . "<br>";
?>
```

#### 3.PHP 自动版权年份
使用 date() 函数在您的网站上自动更新版本年份：
实例如下所示:

``` php
© 2010-<?php echo date("Y")?>
```

#### 4.获得简单的时间
下面是常用于时间的字符：

* 1、h - 带有首位零的 12 小时的小时格式
* 2、i - 带有首位零的分钟
* 3、s - 带有首位零的秒（00 -59）
* 4、a - 小写的午前和午后（am 或 pm）

下面的例子以指定的格式输出当前时间：

实例代码如下:

``` php
<?php
echo "现在时间是 " . date("h:i:sa");
?>
```

提示：请注意 PHP date() 函数会返回服务器的当前日期/时间！

#### 5.获取时区
如果从代码返回的不是正确的时间，有可能是因为您的服务器位于其他国家或者被设置为不同时区。

因此，如果您需要基于具体位置的准确时间，您可以设置要用的时区。

下面的例子把时区设置为 "PRC"(中华人民共和国的时区)，然后以指定格式输出当前时间

实例代码如下:

``` php
<?php
date_default_timezone_set("PRC");
echo "当前时间是 " . date("h:i:sa");
?>
```

#### 6.通过 PHP mktime() 创建日期
date() 函数中可选的时间戳参数规定时间戳。如果您未规定时间戳，将使用当前日期和时间（正如上例中那样）。

mktime() 函数返回日期的 Unix 时间戳

提示：Unix时间戳是从1970年1月1日（UTC/GMT的午夜）开始所经过的秒数，不考虑闰秒。

语法：
``` php
mktime(hour,minute,second,month,day,year)
```

下面的例子使用 mktime() 函数中的一系列参数来创建日期和时间

实例代码如下：

``` php
<?php
$d=mktime(9, 12, 31, 6, 10, 2015);
echo "创建日期是 " . date("Y-m-d h:i:sa", $d);
?>
```

#### 7.通过 PHP strtotime() 用字符串来创建日期
PHP strtotime() 函数用于把人类可读的字符串转换为 Unix 时间

语法:
``` php
strtotime(time,now)
```

下面的例子通过 strtotime() 函数创建日期和时间：

实例代码如下：

``` php
<?php
$d=strtotime("10:38pm April 15 2015");
echo "创建日期是 " . date("Y-m-d h:i:sa", $d);
?>
```

PHP 在将字符串转换为日期这方面非常聪明，所以您能够使用各种值：

实例如下所示:

``` php
<?php
$d=strtotime("tomorrow");
echo date("Y-m-d h:i:sa", $d) . "<br>";

$d=strtotime("next Saturday");
echo date("Y-m-d h:i:sa", $d) . "<br>";

$d=strtotime("+3 Months");
echo date("Y-m-d h:i:sa", $d) . "<br>";
?>
```

不过，strtotime() 并不完美，所以请记得检查放入其中的字符串。

#### 8.更多日期实例
下例输出下周六的日期

实例代码如下：

``` php
<?php
$startdate = strtotime("Saturday");
$enddate = strtotime("+6 weeks",$startdate);

while ($startdate < $enddate) {
  echo date("M d", $startdate),"<br>";
  $startdate = strtotime("+1 week", $startdate);
}
?>
```
通过strtotime()这个函数把本周星期六的日期存储到\$stardate这个变量里，在通过\strotime这个函数把未来六周的每个星期六当中的日期存储到$enddate这个变量中，while循环如果本周星期六比未来六周的每个星期六当中的日期小的话，则输出当前月份加上未来六周每个星期六当中的日期

下例输出距离12月31还有多少天

实例代码如下：

``` php
<?php
$d1=strtotime("December 31");
$d2=ceil(($d1-time())/60/60/24);
echo "距离十二月三十一日还有：" . $d2 ." 天。";
?>
```

\$d1这个变量里面存储的是本年12月31号的日期，$d2通过ceil这个函数来计算本年的12月31日距离现在日期还剩多少毫秒，把毫秒换算成天并输出

提示：ceil()函数的作用是向上取整最为接近的整数

通过本节的学习我们学习到了日期的格式与方法的简单应用以及怎样获取中华人民共和国时区和两个扩展案例

### 三、作业
1.整理扩展案例的思路并可以独立完成
2.熟练运用日期及时间的格式规则和符号
3.用所学知识点打印出前一天的时间，格式是2019-11-14 20:20:20并输出